{"ast":null,"code":"var _jsxFileName = \"/Users/lalit/Documents/BlockChain Development/blockchainEcommerce/client/src/components/Products/ProductCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport styles from \"./ProductCard.module.css\";\nimport { ethers } from \"ethers\";\nimport DefaultImg from \"../../assets/defaultProductImg.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction timeout(delay) {\n  return new Promise(res => setTimeout(res, delay));\n}\n\nfunction ProductCard(props) {\n  _s();\n\n  var _props$product;\n\n  const [loading, setLoading] = useState(false);\n\n  const handlePurchaseProduct = async () => {\n    setLoading(true);\n    await props.ecommerce.functions.purchaseProduct(props.product.id, {\n      value: props.product.price\n    });\n    await timeout(3000);\n    setLoading(false);\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `col-lg-3 col-md-3 col-sm-4 col-xs-6 ${styles.container}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card h-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://ipfs.infura.io/ipfs/${props.product.image}`,\n        className: `card-img-top ${styles.topImg}`,\n        alt: \"product\",\n        onError: e => {\n          e.target.onerror = null; // prevents looping\n\n          e.target.src = `${DefaultImg}`;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: (_props$product = props.product) === null || _props$product === void 0 ? void 0 : _props$product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: [\"Price : \", ethers.utils.formatEther(props.product.price.toString()), \" \", \"ETH\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: [\"Owner :\", \" \", props.product.owner.slice(0, 5) + \"...\" + props.product.owner.slice(38, 42)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: props.product.purchased ? /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary disabled w-100\",\n          children: \"Purchased\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary w-100\",\n          onClick: handlePurchaseProduct,\n          children: loading ? \"Loading....\" : \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 3\n  }, this);\n}\n\n_s(ProductCard, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","useState","styles","ethers","DefaultImg","timeout","delay","Promise","res","setTimeout","ProductCard","props","loading","setLoading","handlePurchaseProduct","ecommerce","functions","purchaseProduct","product","id","value","price","window","location","reload","container","image","topImg","e","target","onerror","src","name","utils","formatEther","toString","owner","slice","purchased"],"sources":["/Users/lalit/Documents/BlockChain Development/blockchainEcommerce/client/src/components/Products/ProductCard.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"./ProductCard.module.css\";\nimport { ethers } from \"ethers\";\nimport DefaultImg from \"../../assets/defaultProductImg.png\";\nfunction timeout(delay) {\n\treturn new Promise((res) => setTimeout(res, delay));\n}\nfunction ProductCard(props) {\n\tconst [loading, setLoading] = useState(false);\n\n\tconst handlePurchaseProduct = async () => {\n\t\tsetLoading(true);\n\t\tawait props.ecommerce.functions.purchaseProduct(props.product.id, {\n\t\t\tvalue: props.product.price,\n\t\t});\n\t\tawait timeout(3000);\n\t\tsetLoading(false);\n\t\twindow.location.reload(false);\n\t};\n\treturn (\n\t\t<div className={`col-lg-3 col-md-3 col-sm-4 col-xs-6 ${styles.container}`}>\n\t\t\t<div className=\"card h-100\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`https://ipfs.infura.io/ipfs/${props.product.image}`}\n\t\t\t\t\tclassName={`card-img-top ${styles.topImg}`}\n\t\t\t\t\talt=\"product\"\n\t\t\t\t\tonError={(e) => {\n\t\t\t\t\t\te.target.onerror = null; // prevents looping\n\t\t\t\t\t\te.target.src = `${DefaultImg}`;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<h5 className=\"card-title\">{props.product?.name}</h5>\n\t\t\t\t\t<p className=\"card-text\">\n\t\t\t\t\t\tPrice : {ethers.utils.formatEther(props.product.price.toString())}{\" \"}\n\t\t\t\t\t\tETH\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"card-text\">\n\t\t\t\t\t\tOwner :{\" \"}\n\t\t\t\t\t\t{props.product.owner.slice(0, 5) +\n\t\t\t\t\t\t\t\"...\" +\n\t\t\t\t\t\t\tprops.product.owner.slice(38, 42)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t{props.product.purchased ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary disabled w-100\">\n\t\t\t\t\t\t\tPurchased\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-primary w-100\"\n\t\t\t\t\t\t\tonClick={handlePurchaseProduct}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{loading ? \"Loading....\" : \"Buy\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ProductCard;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;;;AACA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EACvB,OAAO,IAAIC,OAAJ,CAAaC,GAAD,IAASC,UAAU,CAACD,GAAD,EAAMF,KAAN,CAA/B,CAAP;AACA;;AACD,SAASI,WAAT,CAAqBC,KAArB,EAA4B;EAAA;;EAAA;;EAC3B,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;;EAEA,MAAMa,qBAAqB,GAAG,YAAY;IACzCD,UAAU,CAAC,IAAD,CAAV;IACA,MAAMF,KAAK,CAACI,SAAN,CAAgBC,SAAhB,CAA0BC,eAA1B,CAA0CN,KAAK,CAACO,OAAN,CAAcC,EAAxD,EAA4D;MACjEC,KAAK,EAAET,KAAK,CAACO,OAAN,CAAcG;IAD4C,CAA5D,CAAN;IAGA,MAAMhB,OAAO,CAAC,IAAD,CAAb;IACAQ,UAAU,CAAC,KAAD,CAAV;IACAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;EACA,CARD;;EASA,oBACC;IAAK,SAAS,EAAG,uCAAsCtB,MAAM,CAACuB,SAAU,EAAxE;IAAA,uBACC;MAAK,SAAS,EAAC,YAAf;MAAA,wBACC;QACC,GAAG,EAAG,+BAA8Bd,KAAK,CAACO,OAAN,CAAcQ,KAAM,EADzD;QAEC,SAAS,EAAG,gBAAexB,MAAM,CAACyB,MAAO,EAF1C;QAGC,GAAG,EAAC,SAHL;QAIC,OAAO,EAAGC,CAAD,IAAO;UACfA,CAAC,CAACC,MAAF,CAASC,OAAT,GAAmB,IAAnB,CADe,CACU;;UACzBF,CAAC,CAACC,MAAF,CAASE,GAAT,GAAgB,GAAE3B,UAAW,EAA7B;QACA;MAPF;QAAA;QAAA;QAAA;MAAA,QADD,eAUC;QAAK,SAAS,EAAC,WAAf;QAAA,wBACC;UAAI,SAAS,EAAC,YAAd;UAAA,4BAA4BO,KAAK,CAACO,OAAlC,mDAA4B,eAAec;QAA3C;UAAA;UAAA;UAAA;QAAA,QADD,eAEC;UAAG,SAAS,EAAC,WAAb;UAAA,uBACU7B,MAAM,CAAC8B,KAAP,CAAaC,WAAb,CAAyBvB,KAAK,CAACO,OAAN,CAAcG,KAAd,CAAoBc,QAApB,EAAzB,CADV,EACoE,GADpE;QAAA;UAAA;UAAA;UAAA;QAAA,QAFD,eAMC;UAAG,SAAS,EAAC,WAAb;UAAA,sBACS,GADT,EAEExB,KAAK,CAACO,OAAN,CAAckB,KAAd,CAAoBC,KAApB,CAA0B,CAA1B,EAA6B,CAA7B,IACA,KADA,GAEA1B,KAAK,CAACO,OAAN,CAAckB,KAAd,CAAoBC,KAApB,CAA0B,EAA1B,EAA8B,EAA9B,CAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QAND;MAAA;QAAA;QAAA;QAAA;MAAA,QAVD,eAuBC;QAAK,SAAS,EAAC,aAAf;QAAA,UACE1B,KAAK,CAACO,OAAN,CAAcoB,SAAd,gBACA;UAAQ,IAAI,EAAC,QAAb;UAAsB,SAAS,EAAC,gCAAhC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,gBAKA;UACC,IAAI,EAAC,QADN;UAEC,SAAS,EAAC,uBAFX;UAGC,OAAO,EAAExB,qBAHV;UAAA,UAKEF,OAAO,GAAG,aAAH,GAAmB;QAL5B;UAAA;UAAA;UAAA;QAAA;MANF;QAAA;QAAA;QAAA;MAAA,QAvBD;IAAA;MAAA;MAAA;MAAA;IAAA;EADD;IAAA;IAAA;IAAA;EAAA,QADD;AA2CA;;GAvDQF,W;;KAAAA,W;AAyDT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}