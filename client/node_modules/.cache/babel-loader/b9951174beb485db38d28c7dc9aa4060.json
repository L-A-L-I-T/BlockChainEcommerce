{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { create } from \"ipfs-http-client\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst client = create(\"https://ipfs.infura.io:5001/api/v0\");\n\nfunction ListProduct(props) {\n  _s();\n\n  const [name, setName] = useState();\n  const [price, setPrice] = useState();\n  const [loading, setLoading] = useState(false);\n  const [file, setFile] = useState();\n\n  const handleNameChange = e => {\n    setName(e.target.value);\n  };\n\n  const handlePriceChange = e => {\n    setPrice(e.target.value);\n  };\n\n  const handleAddProduct = async () => {\n    var _props$ecommerce;\n\n    setLoading(true);\n    await ((_props$ecommerce = props.ecommerce) === null || _props$ecommerce === void 0 ? void 0 : _props$ecommerce.functions.createProduct(name, ethers.utils.parseEther(price), file));\n    setName(\"\");\n    setPrice(\"\");\n    setFile(null);\n    console.log(props.productCount);\n    setLoading(false);\n  };\n\n  const handleFileChange = async e => {\n    // console.log(e.target.files);\n    // const file = e.target.files[0];\n    const file = e.target.files[0];\n    const result = await client.add(file);\n    setFile(result); // console.log(files);\n    // for (var file in files) {\n    // \tconst result = await client.add(files[file]);\n    // \tconsole.log(result);\n    // \tsetFiles((prev) => [...prev, result.path]);\n    // }\n  };\n\n  const resetInputs = () => {\n    setName(\"\");\n    setPrice(\"\");\n    setLoading(false);\n    setFile(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false); // <div\n  // \tclassName=\"modal fade \"\n  // \tid=\"exampleModal\"\n  // \tdata-bs-backdrop=\"static\"\n  // \tdata-bs-keyboard=\"false\"\n  // \ttabindex=\"-1\"\n  // \taria-labelledby=\"exampleModalLabel\"\n  // \taria-hidden=\"true\"\n  // >\n  // \t<div className=\"modal-dialog modal-dialog-centered\">\n  // \t\t<div className=\"modal-content\">\n  // \t\t\t<div className=\"modal-header\">\n  // \t\t\t\t<h5 class=\"modal-title\" id=\"exampleModalLabel\">\n  // \t\t\t\t\tAdd Product\n  // \t\t\t\t</h5>\n  // \t\t\t\t<button\n  // \t\t\t\t\ttype=\"button\"\n  // \t\t\t\t\tclass=\"btn-close\"\n  // \t\t\t\t\tdata-bs-dismiss=\"modal\"\n  // \t\t\t\t\taria-label=\"Close\"\n  // \t\t\t\t\tonClick={resetInputs}\n  // \t\t\t\t></button>\n  // \t\t\t</div>\n  // \t\t\t<div className=\"modal-body\">\n  // \t\t\t\t<div class=\"mb-3\">\n  // \t\t\t\t\t<label for=\"exampleFormControlInput1\" class=\"form-label\">\n  // \t\t\t\t\t\tProduct Name\n  // \t\t\t\t\t</label>\n  // \t\t\t\t\t<input\n  // \t\t\t\t\t\tclass=\"form-control\"\n  // \t\t\t\t\t\tid=\"exampleFormControlInput1\"\n  // \t\t\t\t\t\tplaceholder=\"Enter Product Name\"\n  // \t\t\t\t\t\tvalue={name}\n  // \t\t\t\t\t\tonChange={handleNameChange}\n  // \t\t\t\t\t></input>\n  // \t\t\t\t</div>\n  // \t\t\t\t{client ? (\n  // \t\t\t\t\t<div class=\"mb-3\">\n  // \t\t\t\t\t\t<label for=\"exampleFormControlInput2\" class=\"form-label\">\n  // \t\t\t\t\t\t\tProduct Price\n  // \t\t\t\t\t\t</label>\n  // \t\t\t\t\t\t<input\n  // \t\t\t\t\t\t\tclass=\"form-control\"\n  // \t\t\t\t\t\t\tid=\"exampleFormControlInput2\"\n  // \t\t\t\t\t\t\tplaceholder=\"Enter Product Price\"\n  // \t\t\t\t\t\t\tvalue={price}\n  // \t\t\t\t\t\t\tonChange={handlePriceChange}\n  // \t\t\t\t\t\t></input>\n  // \t\t\t\t\t</div>\n  // \t\t\t\t) : (\n  // \t\t\t\t\t<p>\n  // \t\t\t\t\t\tOh oh, Not connected to IPFS. Checkout out the logs for errors\n  // \t\t\t\t\t</p>\n  // \t\t\t\t)}\n  // \t\t\t\t<div class=\"mb-3\">\n  // \t\t\t\t\t<label for=\"formFileMultiple\" class=\"form-label\">\n  // \t\t\t\t\t\tAdd Images related to Product\n  // \t\t\t\t\t</label>\n  // \t\t\t\t\t<input\n  // \t\t\t\t\t\tclass=\"form-control\"\n  // \t\t\t\t\t\ttype=\"file\"\n  // \t\t\t\t\t\tid=\"formFileMultiple\"\n  // \t\t\t\t\t\tmultiple\n  // \t\t\t\t\t\tonChange={handleFileChange}\n  // \t\t\t\t\t/>\n  // \t\t\t\t</div>\n  // \t\t\t\t{file && (\n  // \t\t\t\t\t<div>\n  // \t\t\t\t\t\t<img\n  // \t\t\t\t\t\t\twidth=\"200\"\n  // \t\t\t\t\t\t\theight=\"200\"\n  // \t\t\t\t\t\t\tsrc={`https://ipfs.infura.io/ipfs/${file}`}\n  // \t\t\t\t\t\t\talt=\"images\"\n  // \t\t\t\t\t\t/>\n  // \t\t\t\t\t</div>\n  // \t\t\t\t)}\n  // \t\t\t</div>\n  // \t\t\t<div className=\"modal-footer\">\n  // \t\t\t\t<button\n  // \t\t\t\t\ttype=\"button\"\n  // \t\t\t\t\tclass=\"btn btn-secondary\"\n  // \t\t\t\t\tdata-bs-dismiss=\"modal\"\n  // \t\t\t\t\tonClick={resetInputs}\n  // \t\t\t\t>\n  // \t\t\t\t\tClose\n  // \t\t\t\t</button>\n  // \t\t\t\t<button\n  // \t\t\t\t\ttype=\"button\"\n  // \t\t\t\t\tclass=\"btn btn-primary\"\n  // \t\t\t\t\tonClick={handleAddProduct}\n  // \t\t\t\t>\n  // \t\t\t\t\t{loading ? \"Loading....\" : \"Add Product\"}\n  // \t\t\t\t</button>\n  // \t\t\t</div>\n  // \t\t</div>\n  // \t</div>\n  // </div>\n}\n\n_s(ListProduct, \"uBRhn7XIB94FLJ8WvCGZNyukrKM=\");\n\n_c = ListProduct;\nexport default ListProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListProduct\");","map":{"version":3,"names":["React","useState","ethers","create","client","ListProduct","props","name","setName","price","setPrice","loading","setLoading","file","setFile","handleNameChange","e","target","value","handlePriceChange","handleAddProduct","ecommerce","functions","createProduct","utils","parseEther","console","log","productCount","handleFileChange","files","result","add","resetInputs"],"sources":["/Users/lalit/Documents/BlockChain Development/blockchainEcommerce/client/src/components/ListProduct/ListProduct.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { create } from \"ipfs-http-client\";\n\nconst client = create(\"https://ipfs.infura.io:5001/api/v0\");\n\nfunction ListProduct(props) {\n\tconst [name, setName] = useState();\n\tconst [price, setPrice] = useState();\n\tconst [loading, setLoading] = useState(false);\n\tconst [file, setFile] = useState();\n\tconst handleNameChange = (e) => {\n\t\tsetName(e.target.value);\n\t};\n\tconst handlePriceChange = (e) => {\n\t\tsetPrice(e.target.value);\n\t};\n\n\tconst handleAddProduct = async () => {\n\t\tsetLoading(true);\n\t\tawait props.ecommerce?.functions.createProduct(\n\t\t\tname,\n\t\t\tethers.utils.parseEther(price),\n\t\t\tfile\n\t\t);\n\t\tsetName(\"\");\n\t\tsetPrice(\"\");\n\t\tsetFile(null);\n\t\tconsole.log(props.productCount);\n\t\tsetLoading(false);\n\t};\n\n\tconst handleFileChange = async (e) => {\n\t\t// console.log(e.target.files);\n\t\t// const file = e.target.files[0];\n\t\tconst file = e.target.files[0];\n\t\tconst result = await client.add(file);\n\t\tsetFile(result);\n\t\t// console.log(files);\n\t\t// for (var file in files) {\n\t\t// \tconst result = await client.add(files[file]);\n\t\t// \tconsole.log(result);\n\t\t// \tsetFiles((prev) => [...prev, result.path]);\n\t\t// }\n\t};\n\n\tconst resetInputs = () => {\n\t\tsetName(\"\");\n\t\tsetPrice(\"\");\n\t\tsetLoading(false);\n\t\tsetFile(null);\n\t};\n\n\treturn <></>;\n\t// <div\n\t// \tclassName=\"modal fade \"\n\t// \tid=\"exampleModal\"\n\t// \tdata-bs-backdrop=\"static\"\n\t// \tdata-bs-keyboard=\"false\"\n\t// \ttabindex=\"-1\"\n\t// \taria-labelledby=\"exampleModalLabel\"\n\t// \taria-hidden=\"true\"\n\t// >\n\t// \t<div className=\"modal-dialog modal-dialog-centered\">\n\t// \t\t<div className=\"modal-content\">\n\t// \t\t\t<div className=\"modal-header\">\n\t// \t\t\t\t<h5 class=\"modal-title\" id=\"exampleModalLabel\">\n\t// \t\t\t\t\tAdd Product\n\t// \t\t\t\t</h5>\n\t// \t\t\t\t<button\n\t// \t\t\t\t\ttype=\"button\"\n\t// \t\t\t\t\tclass=\"btn-close\"\n\t// \t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t// \t\t\t\t\taria-label=\"Close\"\n\t// \t\t\t\t\tonClick={resetInputs}\n\t// \t\t\t\t></button>\n\t// \t\t\t</div>\n\t// \t\t\t<div className=\"modal-body\">\n\t// \t\t\t\t<div class=\"mb-3\">\n\t// \t\t\t\t\t<label for=\"exampleFormControlInput1\" class=\"form-label\">\n\t// \t\t\t\t\t\tProduct Name\n\t// \t\t\t\t\t</label>\n\t// \t\t\t\t\t<input\n\t// \t\t\t\t\t\tclass=\"form-control\"\n\t// \t\t\t\t\t\tid=\"exampleFormControlInput1\"\n\t// \t\t\t\t\t\tplaceholder=\"Enter Product Name\"\n\t// \t\t\t\t\t\tvalue={name}\n\t// \t\t\t\t\t\tonChange={handleNameChange}\n\t// \t\t\t\t\t></input>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t{client ? (\n\t// \t\t\t\t\t<div class=\"mb-3\">\n\t// \t\t\t\t\t\t<label for=\"exampleFormControlInput2\" class=\"form-label\">\n\t// \t\t\t\t\t\t\tProduct Price\n\t// \t\t\t\t\t\t</label>\n\t// \t\t\t\t\t\t<input\n\t// \t\t\t\t\t\t\tclass=\"form-control\"\n\t// \t\t\t\t\t\t\tid=\"exampleFormControlInput2\"\n\t// \t\t\t\t\t\t\tplaceholder=\"Enter Product Price\"\n\t// \t\t\t\t\t\t\tvalue={price}\n\t// \t\t\t\t\t\t\tonChange={handlePriceChange}\n\t// \t\t\t\t\t\t></input>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t) : (\n\t// \t\t\t\t\t<p>\n\t// \t\t\t\t\t\tOh oh, Not connected to IPFS. Checkout out the logs for errors\n\t// \t\t\t\t\t</p>\n\t// \t\t\t\t)}\n\t// \t\t\t\t<div class=\"mb-3\">\n\t// \t\t\t\t\t<label for=\"formFileMultiple\" class=\"form-label\">\n\t// \t\t\t\t\t\tAdd Images related to Product\n\t// \t\t\t\t\t</label>\n\t// \t\t\t\t\t<input\n\t// \t\t\t\t\t\tclass=\"form-control\"\n\t// \t\t\t\t\t\ttype=\"file\"\n\t// \t\t\t\t\t\tid=\"formFileMultiple\"\n\t// \t\t\t\t\t\tmultiple\n\t// \t\t\t\t\t\tonChange={handleFileChange}\n\t// \t\t\t\t\t/>\n\t// \t\t\t\t</div>\n\t// \t\t\t\t{file && (\n\t// \t\t\t\t\t<div>\n\t// \t\t\t\t\t\t<img\n\t// \t\t\t\t\t\t\twidth=\"200\"\n\t// \t\t\t\t\t\t\theight=\"200\"\n\t// \t\t\t\t\t\t\tsrc={`https://ipfs.infura.io/ipfs/${file}`}\n\t// \t\t\t\t\t\t\talt=\"images\"\n\t// \t\t\t\t\t\t/>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t)}\n\t// \t\t\t</div>\n\t// \t\t\t<div className=\"modal-footer\">\n\t// \t\t\t\t<button\n\t// \t\t\t\t\ttype=\"button\"\n\t// \t\t\t\t\tclass=\"btn btn-secondary\"\n\t// \t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t// \t\t\t\t\tonClick={resetInputs}\n\t// \t\t\t\t>\n\t// \t\t\t\t\tClose\n\t// \t\t\t\t</button>\n\t// \t\t\t\t<button\n\t// \t\t\t\t\ttype=\"button\"\n\t// \t\t\t\t\tclass=\"btn btn-primary\"\n\t// \t\t\t\t\tonClick={handleAddProduct}\n\t// \t\t\t\t>\n\t// \t\t\t\t\t{loading ? \"Loading....\" : \"Add Product\"}\n\t// \t\t\t\t</button>\n\t// \t\t\t</div>\n\t// \t\t</div>\n\t// \t</div>\n\t// </div>\n}\n\nexport default ListProduct;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,MAAT,QAAuB,kBAAvB;;;AAEA,MAAMC,MAAM,GAAGD,MAAM,CAAC,oCAAD,CAArB;;AAEA,SAASE,WAAT,CAAqBC,KAArB,EAA4B;EAAA;;EAC3B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,EAAhC;EACA,MAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,EAAlC;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,EAAhC;;EACA,MAAMc,gBAAgB,GAAIC,CAAD,IAAO;IAC/BR,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;EACA,CAFD;;EAGA,MAAMC,iBAAiB,GAAIH,CAAD,IAAO;IAChCN,QAAQ,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;EACA,CAFD;;EAIA,MAAME,gBAAgB,GAAG,YAAY;IAAA;;IACpCR,UAAU,CAAC,IAAD,CAAV;IACA,2BAAMN,KAAK,CAACe,SAAZ,qDAAM,iBAAiBC,SAAjB,CAA2BC,aAA3B,CACLhB,IADK,EAELL,MAAM,CAACsB,KAAP,CAAaC,UAAb,CAAwBhB,KAAxB,CAFK,EAGLI,IAHK,CAAN;IAKAL,OAAO,CAAC,EAAD,CAAP;IACAE,QAAQ,CAAC,EAAD,CAAR;IACAI,OAAO,CAAC,IAAD,CAAP;IACAY,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACsB,YAAlB;IACAhB,UAAU,CAAC,KAAD,CAAV;EACA,CAZD;;EAcA,MAAMiB,gBAAgB,GAAG,MAAOb,CAAP,IAAa;IACrC;IACA;IACA,MAAMH,IAAI,GAAGG,CAAC,CAACC,MAAF,CAASa,KAAT,CAAe,CAAf,CAAb;IACA,MAAMC,MAAM,GAAG,MAAM3B,MAAM,CAAC4B,GAAP,CAAWnB,IAAX,CAArB;IACAC,OAAO,CAACiB,MAAD,CAAP,CALqC,CAMrC;IACA;IACA;IACA;IACA;IACA;EACA,CAZD;;EAcA,MAAME,WAAW,GAAG,MAAM;IACzBzB,OAAO,CAAC,EAAD,CAAP;IACAE,QAAQ,CAAC,EAAD,CAAR;IACAE,UAAU,CAAC,KAAD,CAAV;IACAE,OAAO,CAAC,IAAD,CAAP;EACA,CALD;;EAOA,oBAAO,qCAAP,CA/C2B,CAgD3B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;;GAjJQT,W;;KAAAA,W;AAmJT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}